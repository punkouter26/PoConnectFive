:root {
    /* Modern Color System using OKLCH for perceptually uniform colors */
    /* Light theme (default) */
    --clr-primary: oklch(60% 0.15 250);
    --clr-primary-dark: oklch(50% 0.15 250);
    --clr-primary-light: oklch(95% 0.05 250);
    --clr-accent: oklch(65% 0.2 30);

    --clr-text: oklch(20% 0 0);
    --clr-text-secondary: oklch(50% 0 0);
    --clr-text-light: oklch(98% 0 0);

    --clr-surface: oklch(98% 0 0);
    --clr-surface-alt: oklch(95% 0 0);
    --clr-background: oklch(96% 0.01 250);

    --clr-error: oklch(60% 0.22 25);
    --clr-success: oklch(65% 0.18 145);
    --clr-warning: oklch(75% 0.15 85);

    /* Game-specific colors */
    --clr-player1: oklch(60% 0.25 25);
    --clr-player2: oklch(85% 0.2 100);
    --clr-board: oklch(30% 0.08 250);

    /* RGB versions for alpha compositing */
    --clr-primary-rgb: 51, 102, 204;
    --clr-accent-rgb: 255, 153, 51;
    --clr-success-rgb: 76, 175, 80;
    --clr-error-rgb: 244, 67, 54;

    /* Shadow system with CSS custom properties */
    --shadow-color: 220 3% 15%;
    --shadow-sm: 0 1px 2px hsl(var(--shadow-color) / 0.08);
    --shadow-md: 0 4px 8px hsl(var(--shadow-color) / 0.12);
    --shadow-lg: 0 8px 24px hsl(var(--shadow-color) / 0.15);
    --shadow-xl: 0 16px 48px hsl(var(--shadow-color) / 0.2);

    /* Spacing scale (Tailwind-inspired) */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;

    /* Fluid Typography with clamp() */
    --text-xs: clamp(0.75rem, 1.5vw, 0.875rem);
    --text-sm: clamp(0.875rem, 2vw, 1rem);
    --text-base: clamp(1rem, 2.5vw, 1.125rem);
    --text-lg: clamp(1.125rem, 3vw, 1.25rem);
    --text-xl: clamp(1.25rem, 3.5vw, 1.5rem);
    --text-2xl: clamp(1.5rem, 4vw, 1.875rem);
    --text-3xl: clamp(1.875rem, 5vw, 2.25rem);
    --text-4xl: clamp(2.25rem, 6vw, 3rem);

    /* Border radius scale */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;

    /* Font system */
    --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    --font-family-mono: 'SF Mono', 'Consolas', 'Monaco', monospace;

    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Glassmorphism */
    --glass-bg: color-mix(in srgb, var(--clr-surface) 70%, transparent);
    --glass-border: color-mix(in srgb, var(--clr-surface) 30%, transparent);

    /* Legacy color names for backward compatibility */
    --primary-color: oklch(60% 0.15 250);
    --primary-dark: oklch(50% 0.15 250);
    --primary-light: oklch(95% 0.05 250);
    --accent-color: oklch(65% 0.2 30);
    --text-color: oklch(20% 0 0);
    --text-secondary: oklch(50% 0 0);
    --text-light: oklch(98% 0 0);
    --background-color: oklch(96% 0.01 250);
    --surface-color: oklch(98% 0 0);
    --error-color: oklch(60% 0.22 25);
    --success-color: oklch(65% 0.18 145);
    --warning-color: oklch(75% 0.15 85);
    --player1-color: oklch(60% 0.25 25);
    --player2-color: oklch(85% 0.2 100);
    --spacing-xs: var(--space-1);
    --spacing-sm: var(--space-2);
    --spacing-md: var(--space-4);
    --spacing-lg: var(--space-6);
    --spacing-xl: var(--space-8);
    --spacing-xxl: var(--space-12);
    --border-radius-sm: var(--radius-sm);
    --border-radius-md: var(--radius-md);
    --border-radius-lg: var(--radius-lg);
    --font-size-xs: var(--text-xs);
    --font-size-sm: var(--text-sm);
    --font-size-md: var(--text-base);
    --font-size-lg: var(--text-lg);
    --font-size-xl: var(--text-xl);
    --font-size-xxl: var(--text-2xl);
    --font-size-xxxl: var(--text-4xl);
}

/* Dark mode with system preference detection */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        --clr-primary: oklch(70% 0.15 250);
        --clr-primary-dark: oklch(80% 0.15 250);
        --clr-primary-light: oklch(25% 0.08 250);
        --clr-accent: oklch(75% 0.2 30);

        --clr-text: oklch(95% 0 0);
        --clr-text-secondary: oklch(70% 0 0);
        --clr-text-light: oklch(98% 0 0);

        --clr-surface: oklch(18% 0.01 250);
        --clr-surface-alt: oklch(22% 0.01 250);
        --clr-background: oklch(15% 0.01 250);

        --clr-error: oklch(70% 0.22 25);
        --clr-success: oklch(75% 0.18 145);
        --clr-warning: oklch(80% 0.15 85);

        --clr-player1: oklch(65% 0.25 25);
        --clr-player2: oklch(85% 0.2 100);
        --clr-board: oklch(25% 0.08 250);

        --shadow-color: 220 40% 2%;
        --glass-bg: color-mix(in srgb, var(--clr-surface) 60%, transparent);
        --glass-border: color-mix(in srgb, var(--clr-surface) 40%, transparent);

        /* Update legacy variables for dark mode */
        --primary-color: oklch(70% 0.15 250);
        --primary-dark: oklch(80% 0.15 250);
        --primary-light: oklch(25% 0.08 250);
        --accent-color: oklch(75% 0.2 30);
        --text-color: oklch(95% 0 0);
        --text-secondary: oklch(70% 0 0);
        --text-light: oklch(98% 0 0);
        --background-color: oklch(15% 0.01 250);
        --surface-color: oklch(18% 0.01 250);
        --error-color: oklch(70% 0.22 25);
        --success-color: oklch(75% 0.18 145);
        --warning-color: oklch(80% 0.15 85);
        --player1-color: oklch(65% 0.25 25);
        --player2-color: oklch(85% 0.2 100);
    }
}

/* Explicit dark theme override */
[data-theme="dark"] {
    --clr-primary: oklch(70% 0.15 250);
    --clr-primary-dark: oklch(80% 0.15 250);
    --clr-primary-light: oklch(25% 0.08 250);
    --clr-accent: oklch(75% 0.2 30);

    --clr-text: oklch(95% 0 0);
    --clr-text-secondary: oklch(70% 0 0);
    --clr-text-light: oklch(98% 0 0);

    --clr-surface: oklch(18% 0.01 250);
    --clr-surface-alt: oklch(22% 0.01 250);
    --clr-background: oklch(15% 0.01 250);

    --clr-error: oklch(70% 0.22 25);
    --clr-success: oklch(75% 0.18 145);
    --clr-warning: oklch(80% 0.15 85);

    --clr-player1: oklch(65% 0.25 25);
    --clr-player2: oklch(85% 0.2 100);
    --clr-board: oklch(25% 0.08 250);

    --shadow-color: 220 40% 2%;
    --glass-bg: color-mix(in srgb, var(--clr-surface) 60%, transparent);
    --glass-border: color-mix(in srgb, var(--clr-surface) 40%, transparent);

    /* Update legacy variables */
    --primary-color: oklch(70% 0.15 250);
    --text-color: oklch(95% 0 0);
    --background-color: oklch(15% 0.01 250);
    --surface-color: oklch(18% 0.01 250);
}

/* Explicit light theme override */
[data-theme="light"] {
    --clr-primary: oklch(60% 0.15 250);
    --clr-primary-dark: oklch(50% 0.15 250);
    --clr-primary-light: oklch(95% 0.05 250);
    --clr-text: oklch(20% 0 0);
    --clr-surface: oklch(98% 0 0);
    --clr-background: oklch(96% 0.01 250);
    --shadow-color: 220 3% 15%;
}

/* View Transitions API for smooth theme changes */
::view-transition-old(root),
::view-transition-new(root) {
    animation-duration: 0.4s;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

[data-theme="dark"]::view-transition-old(root) {
    animation-name: fade-out;
}

[data-theme="dark"]::view-transition-new(root) {
    animation-name: fade-in;
}

/* Utility classes */
.text-center {
    text-align: center;
}

.text-primary {
    color: var(--primary-color);
}

.bg-primary {
    background-color: var(--primary-color);
}

.text-success {
    color: var(--success-color);
}

.text-error {
    color: var(--error-color);
}

.text-warning {
    color: var(--warning-color);
}

.player1 {
    color: var(--player1-color);
}

.player2 {
    color: var(--player2-color);
}